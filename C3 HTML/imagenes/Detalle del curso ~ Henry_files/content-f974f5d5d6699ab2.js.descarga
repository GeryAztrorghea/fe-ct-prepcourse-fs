(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5258],{98014:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course-detail/[courseId]/content",function(){return t(95084)}])},95084:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return S}});var n,o=t(85893),u=t(95591),i=t(67294),s=t(96486),c=t(11163),a=t(44334),l=t(51534),d=t(59927),v=t(88919),g=t(81479),h=t(14786),f=t(94184),m=t.n(f),p=t(1814),b=t(51360),C=t.n(b);!function(e){e.LAB="lab",e.MODULES="modules"}(n||(n={}));var _=e=>{let{content:r,courseId:t,isSubscribed:u}=e;const s="sm"===(0,v.cKm)(),c=m()(C().container,{[C().containerMobile]:s}),a=(0,i.useMemo)((()=>(null===r||void 0===r?void 0:r.length)?r.sort(((e,r)=>e.order-r.order)).map((e=>({id:e.id,name:e.title,order:e.order,progress:u?Math.ceil(e.progress):void 0,lectures:e.lectures.sort(((e,r)=>e.order-r.order)).map(((e,r)=>{var n,o;const u=(null===(n=e.modLectures)||void 0===n?void 0:n[0].module.id)||"";return{code:"L".concat(r+1),title:e.title,linkProps:{href:"/course-detail/".concat(t,"/lecture/").concat(e.id,"?lectureUrl=").concat((null===e||void 0===e||null===(o=e.video)||void 0===o?void 0:o.url)||"","&idModLecture=").concat(u),legacyBehavior:!0},time:(0,p.dp)(e.estimatedTime),completed:e.completed,completedLabel:"Completada",disabled:e.disabled}})),disabled:!1,duration:(0,p.dp)(e.estimatedTime),disabledMessage:""}))):[]),[r,u,t]);return(0,o.jsx)(v.Zbd,{children:(0,o.jsxs)(v.mQc,{defaultActiveKey:n.MODULES,children:[(0,o.jsx)(v.$er,{type:"custom",children:(0,o.jsx)(v.o$F,{eventKey:n.MODULES,type:"custom",children:"M\xf3dulos"})}),(0,o.jsx)(v.I5H,{children:(0,o.jsx)(v.Jml,{eventKey:n.MODULES,children:(0,o.jsx)("div",{className:c,children:null===a||void 0===a?void 0:a.map((e=>(0,o.jsx)(v.uYY,{...e})))})})})]})})};var M=e=>{let{courseId:r,courseName:t,programId:n,isSubscribed:c}=e;const a=r,d=n,{data:f,mutate:m}=(0,u.ZP)(a&&d?["lectureControllerGetCareerLectures",a,d]:null,(0,v.Oyn)(l.Z.henry.lectureControllerGetCareerLectures,a,d));return(0,i.useEffect)((()=>{if((null===f||void 0===f?void 0:f.length)&&t){const[e]=f;g.n.getInstance().track(h.K.COURSE_CONTENT_VIEW,{course:t,progress:"".concat(e.progress,"%")})}}),[t,f]),(0,i.useEffect)((()=>{c&&(null===f||void 0===f?void 0:f.length)&&m().catch(s.noop)}),[c]),(0,o.jsx)(_,{content:f,isSubscribed:c,courseId:r})},y=t(80795),E=t(22177);var S=()=>{var e;const r=(0,c.useRouter)(),t=(0,d.R$)(r.query.courseId),n=E.r.find((e=>e.id===t)),{addToast:i}=(0,v.F_u)(),{trigger:g,isMutating:h}=(0,a.Z)("studentCareerControllerCreateStudentCareer",(0,v.NNl)(l.Z.henry.studentCareerControllerCreateStudentCareer),{onSuccess:()=>i({type:"success",message:"Iniciaste el curso con \xe9xito"}),onError:()=>i({type:"error",message:"Hubo un error al iniciar el curso"})}),{data:f,mutate:m}=(0,u.ZP)("syllabusControllerGetSyllabusForSuscription",(0,v.Oyn)(l.Z.henry.syllabusControllerGetSyllabusForSuscription,{})),p=(null===(e=null===f||void 0===f?void 0:f.find((e=>e.syllabusId===t)))||void 0===e?void 0:e.isSuscribed)||!1;return n?(0,o.jsx)(y.default,{courseId:t,title:null!==(b=null===n||void 0===n?void 0:n.title)&&void 0!==b?b:"Detalle del curso",onClick:()=>{n&&g(n.careerId).then((()=>{m().catch(s.noop)})).catch(s.noop)},isLoading:h,showButton:!p,showSidebar:!p,children:(0,o.jsx)(M,{courseId:t,programId:n.careerId,isSubscribed:p,courseName:n.title})}):null;var b}},51360:function(e){e.exports={container:"content_container__8INaD",containerMobile:"content_containerMobile__D1qGz"}},44334:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(67294),o=t(95591),u=t(11753);const i=u.w6?e=>{e()}:n.startTransition,s=(0,u.xD)(o.ZP,(()=>(e,r,t={})=>{const{mutate:s}=(0,o.kY)(),c=(0,n.useRef)(e),a=(0,n.useRef)(r),l=(0,n.useRef)(t),d=(0,n.useRef)(0),[v,g,h]=(e=>{const[,r]=(0,n.useState)({}),t=(0,n.useRef)(!1),o=(0,n.useRef)(e),i=(0,n.useRef)({data:!1,error:!1,isValidating:!1}),s=(0,n.useCallback)((e=>{let n=!1;const u=o.current;for(const r in e){const t=r;u[t]!==e[t]&&(u[t]=e[t],i.current[t]&&(n=!0))}n&&!t.current&&r({})}),[]);return(0,u.LI)((()=>(t.current=!1,()=>{t.current=!0}))),[o,i.current,s]})({data:u.i_,error:u.i_,isMutating:!1}),f=v.current,m=(0,n.useCallback)((async(e,r)=>{const[t,n]=(0,u.qC)(c.current);if(!a.current)throw new Error("Can\u2019t trigger the mutation: missing fetcher.");if(!t)throw new Error("Can\u2019t trigger the mutation: missing key.");const o=(0,u.PM)((0,u.PM)({populateCache:!1,throwOnError:!0},l.current),r),v=(0,u.u3)();d.current=v,h({isMutating:!0});try{const r=await s(t,a.current(n,{arg:e}),(0,u.PM)(o,{throwOnError:!0}));var g,f;if(d.current<=v)i((()=>h({data:r,isMutating:!1,error:void 0}))),null==(g=(f=o).onSuccess)||g.call(f,r,t,o);return r}catch(b){var m,p;if(d.current<=v)if(i((()=>h({error:b,isMutating:!1}))),null==(m=(p=o).onError)||m.call(p,b,t,o),o.throwOnError)throw b}}),[]),p=(0,n.useCallback)((()=>{d.current=(0,u.u3)(),h({data:u.i_,error:u.i_,isMutating:!1})}),[]);return(0,u.LI)((()=>{c.current=e,a.current=r,l.current=t})),{trigger:m,reset:p,get data(){return g.data=!0,f.data},get error(){return g.error=!0,f.error},get isMutating(){return g.isMutating=!0,f.isMutating}}}))}},function(e){e.O(0,[795,9774,2888,179],(function(){return r=98014,e(e.s=r);var r}));var r=e.O();_N_E=r}]);